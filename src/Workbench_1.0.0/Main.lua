---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by FiercePC.
--- DateTime: 16/11/2022 17:51
---
local Is = require('__stdlib__/stdlib/utils/is')
local Table = require('__stdlib__/stdlib/utils/table')


function Main()


    local workbenches  = global.Workable or {}
    -- all chains and chain per player. All player can only have one chain at a time
    local chains = global.Chains or {}

    if(Is.Nil(chains) or Table.is_empty(chains))then
        for _, p in pairs(game.players) do
            table.insert(global.Chains,RecipeChain:new(nil,p))
        end
    end

    if(not Is.Nil(chains) and not Table.is_empty(chains))then
        local hasChain = false
        for _, p in pairs(game.players) do

            for _, chain in pairs(global.Chains) do
                if(chain.owner == p)then
                    hasChain = true
                end
            end

            if not hasChain then
                table.insert(global.Chains,RecipeChain:new(nil,p))
            end
        end
    end

end